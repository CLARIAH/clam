$def with (version, system_id,system_name, system_description, user, project, url, statuscode,statusmessage, errors, errormsg, parameterdata, corpora, outputpaths, inputpaths,outputformats, inputformats, datafile, projects)
<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="$url/static/interface.xsl"?>
$if project and user:
    <clam version="$version" id="$system_id" name="$system_name" project="$project" user="$user">
$elif project:
    <clam version="$version" id="$system_id" name="$system_name" project="$project">
$elif user:
    <clam version="$version" id="$system_id" name="$system_name" user="$user">
$else:
    <clam version="$version" id="$system_id" name="$system_name">
 <description>$system_description</description>
$if not project:
        <projects>
        $for p in projects:
                <project>$p</project>
        </projects>
$if not datafile and project:
        <status code="$statuscode" message="$statusmessage" errors="$errors" errormsg="$errormsg" />
$if statuscode == 0 or statuscode == 2 or not project:
        <parameters>
            $for group, parameters in parameterdata:
                <parametergroup name="$group">
                    $for parameter in parameters:
                        $:parameter.xml()
                </parametergroup>
        </parameters>
$if statuscode == 0 or datafile or not project:
        <corpora>
            $for corpus in corpora:
                <corpus>$corpus</corpus>
        </corpora> 
        <inputformats>
            $for format in inputformats:
                $:format.xml()
        </inputformats>
        $if project:
            <input>
                $for path, format, encoding in inputpaths:
                    <path format="$format" encoding="$encoding">$path</path>
            </input>
$if statuscode == 2 or datafile or not project:
        <outputformats>
            $for format in outputformats:
                $:format.xml()
        </outputformats>
        $if project:
            <output>
                $for path, format, encoding in outputpaths:
                    <path format="$format" encoding="$encoding">$path</path>
            </output>
 </clam>
